{"id":"ldxL","dependencies":[{"name":"/Users/hk/Sites/digital-forest-monitoring/package.json","includedInParent":true,"mtime":1574333047455},{"name":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/package.json","includedInParent":true,"mtime":1573122283680},{"name":"./Vector.js","loc":{"line":17,"column":24},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Vector.js"},{"name":"../obj.js","loc":{"line":18,"column":23},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/obj.js"},{"name":"../coordinate.js","loc":{"line":19,"column":36},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/coordinate.js"},{"name":"../style/Text.js","loc":{"line":20,"column":17},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/style/Text.js"},{"name":"../style/Fill.js","loc":{"line":21,"column":17},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/style/Fill.js"},{"name":"../style/Stroke.js","loc":{"line":22,"column":19},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/style/Stroke.js"},{"name":"../geom/LineString.js","loc":{"line":23,"column":23},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/geom/LineString.js"},{"name":"../source/Vector.js","loc":{"line":24,"column":25},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/Vector.js"},{"name":"../proj.js","loc":{"line":25,"column":104},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/proj.js"},{"name":"../extent.js","loc":{"line":26,"column":72},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/extent.js"},{"name":"../math.js","loc":{"line":27,"column":22},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/math.js"},{"name":"../style/Style.js","loc":{"line":28,"column":18},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/style/Style.js"},{"name":"../Feature.js","loc":{"line":29,"column":20},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/Feature.js"},{"name":"../loadingstrategy.js","loc":{"line":30,"column":21},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/loadingstrategy.js"},{"name":"../geom/flat/geodesic.js","loc":{"line":31,"column":35},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/geom/flat/geodesic.js"},{"name":"../geom/GeometryLayout.js","loc":{"line":32,"column":27},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/geom/GeometryLayout.js"},{"name":"../geom/Point.js","loc":{"line":33,"column":18},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/geom/Point.js"},{"name":"../Collection.js","loc":{"line":34,"column":23},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Graticule.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/Collection.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=g(require(\"./Vector.js\")),t=require(\"../obj.js\"),a=require(\"../coordinate.js\"),i=g(require(\"../style/Text.js\")),l=g(require(\"../style/Fill.js\")),r=g(require(\"../style/Stroke.js\")),n=g(require(\"../geom/LineString.js\")),s=g(require(\"../source/Vector.js\")),o=require(\"../proj.js\"),h=require(\"../extent.js\"),_=require(\"../math.js\"),d=g(require(\"../style/Style.js\")),u=g(require(\"../Feature.js\")),L=require(\"../loadingstrategy.js\"),m=require(\"../geom/flat/geodesic.js\"),f=g(require(\"../geom/GeometryLayout.js\")),p=g(require(\"../geom/Point.js\")),b=g(require(\"../Collection.js\"));function g(e){return e&&e.__esModule?e:{default:e}}var c=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),x=new r.default({color:\"rgba(0,0,0,0.2)\"}),y=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],P=function(e){function g(n){var o=this,h=n||{},_=(0,t.assign)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},h);return delete _.maxLines,delete _.strokeStyle,delete _.targetSize,delete _.showLabels,delete _.lonLabelFormatter,delete _.latLabelFormatter,delete _.lonLabelPosition,delete _.latLabelPosition,delete _.lonLabelStyle,delete _.latLabelStyle,delete _.intervals,(o=e.call(this,_)||this).projection_=null,o.maxLat_=1/0,o.maxLon_=1/0,o.minLat_=-1/0,o.minLon_=-1/0,o.maxLatP_=1/0,o.maxLonP_=1/0,o.minLatP_=-1/0,o.minLonP_=-1/0,o.targetSize_=void 0!==h.targetSize?h.targetSize:100,o.maxLines_=void 0!==h.maxLines?h.maxLines:100,o.meridians_=[],o.parallels_=[],o.strokeStyle_=void 0!==h.strokeStyle?h.strokeStyle:x,o.fromLonLatTransform_=void 0,o.toLonLatTransform_=void 0,o.projectionCenterLonLat_=null,o.meridiansLabels_=null,o.parallelsLabels_=null,h.showLabels&&(o.lonLabelFormatter_=null==h.lonLabelFormatter?a.degreesToStringHDMS.bind(o,\"EW\"):h.lonLabelFormatter,o.latLabelFormatter_=null==h.latLabelFormatter?a.degreesToStringHDMS.bind(o,\"NS\"):h.latLabelFormatter,o.lonLabelPosition_=null==h.lonLabelPosition?0:h.lonLabelPosition,o.latLabelPosition_=null==h.latLabelPosition?1:h.latLabelPosition,o.lonLabelStyleBase_=new d.default({text:void 0!==h.lonLabelStyle?h.lonLabelStyle.clone():new i.default({font:\"12px Calibri,sans-serif\",textBaseline:\"bottom\",fill:new l.default({color:\"rgba(0,0,0,1)\"}),stroke:new r.default({color:\"rgba(255,255,255,1)\",width:3})})}),o.lonLabelStyle_=function(e){var t=e.get(\"graticule_label\");return this.lonLabelStyleBase_.getText().setText(t),this.lonLabelStyleBase_}.bind(o),o.latLabelStyleBase_=new d.default({text:void 0!==h.latLabelStyle?h.latLabelStyle.clone():new i.default({font:\"12px Calibri,sans-serif\",textAlign:\"right\",fill:new l.default({color:\"rgba(0,0,0,1)\"}),stroke:new r.default({color:\"rgba(255,255,255,1)\",width:3})})}),o.latLabelStyle_=function(e){var t=e.get(\"graticule_label\");return this.latLabelStyleBase_.getText().setText(t),this.latLabelStyleBase_}.bind(o),o.meridiansLabels_=[],o.parallelsLabels_=[]),o.intervals_=void 0!==h.intervals?h.intervals:y,o.setSource(new s.default({loader:o.loaderFunction.bind(o),strategy:L.bbox,features:new b.default,overlaps:!1,useSpatialIndex:!1,wrapX:h.wrapX})),o.featurePool_=[],o.lineStyle_=new d.default({stroke:o.strokeStyle_}),o.renderedExtent_=null,o.setRenderOrder(null),o.tmpExtent_=null,o}return c(g,e),g.prototype.loaderFunction=function(e,t,a){var i=this.getSource(),l=this.getExtent()||[-1/0,-1/0,1/0,1/0],r=(0,h.getIntersection)(l,e,this.tmpExtent_);if(setTimeout(function(){i.removeLoadedExtent(e)},0),!(this.renderedExtent_&&(0,h.equals)(this.renderedExtent_,r)||(this.renderedExtent_=r,(0,h.isEmpty)(r)))){var n=(0,h.getCenter)(r),s=t*t/4;(!this.projection_||!(0,o.equivalent)(this.projection_,a))&&this.updateProjectionInfo_(a),this.createGraticule_(r,n,t,s);var _,d=this.meridians_.length+this.parallels_.length;for(this.meridiansLabels_&&(d+=this.meridiansLabels_.length),this.parallelsLabels_&&(d+=this.parallelsLabels_.length);d>this.featurePool_.length;)_=new u.default,this.featurePool_.push(_);var L=i.getFeaturesCollection();L.clear();var m,f,p,b=0;for(m=0,f=this.meridians_.length;m<f;++m)(_=this.featurePool_[b++]).setGeometry(this.meridians_[m]),_.setStyle(this.lineStyle_),L.push(_);for(m=0,f=this.parallels_.length;m<f;++m)(_=this.featurePool_[b++]).setGeometry(this.parallels_[m]),_.setStyle(this.lineStyle_),L.push(_);if(this.meridiansLabels_)for(m=0,f=this.meridiansLabels_.length;m<f;++m)p=this.meridiansLabels_[m],(_=this.featurePool_[b++]).setGeometry(p.geom),_.setStyle(this.lonLabelStyle_),_.set(\"graticule_label\",p.text),L.push(_);if(this.parallelsLabels_)for(m=0,f=this.parallelsLabels_.length;m<f;++m)p=this.parallelsLabels_[m],(_=this.featurePool_[b++]).setGeometry(p.geom),_.setStyle(this.latLabelStyle_),_.set(\"graticule_label\",p.text),L.push(_)}},g.prototype.addMeridian_=function(e,t,a,i,l,r){var n=this.getMeridian_(e,t,a,i,r);if((0,h.intersects)(n.getExtent(),l)){if(this.meridiansLabels_){var s=this.getMeridianPoint_(n,l,r);this.meridiansLabels_[r]={geom:s,text:this.lonLabelFormatter_(e)}}this.meridians_[r++]=n}return r},g.prototype.addParallel_=function(e,t,a,i,l,r){var n=this.getParallel_(e,t,a,i,r);if((0,h.intersects)(n.getExtent(),l)){if(this.parallelsLabels_){var s=this.getParallelPoint_(n,l,r);this.parallelsLabels_[r]={geom:s,text:this.latLabelFormatter_(e)}}this.parallels_[r++]=n}return r},g.prototype.createGraticule_=function(e,t,a,i){var l=this.getInterval_(a);if(-1==l)return this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var r,n,s,h,d=this.toLonLatTransform_(t),u=d[0],L=d[1],m=this.maxLines_,f=[Math.max(e[0],this.minLonP_),Math.max(e[1],this.minLatP_),Math.min(e[2],this.maxLonP_),Math.min(e[3],this.maxLatP_)],p=(f=(0,o.transformExtent)(f,this.projection_,\"EPSG:4326\"))[3],b=f[2],g=f[1],c=f[0];for(u=Math.floor(u/l)*l,h=(0,_.clamp)(u,this.minLon_,this.maxLon_),n=this.addMeridian_(h,g,p,i,e,0),r=0;h!=this.minLon_&&r++<m;)h=Math.max(h-l,this.minLon_),n=this.addMeridian_(h,g,p,i,e,n);for(h=(0,_.clamp)(u,this.minLon_,this.maxLon_),r=0;h!=this.maxLon_&&r++<m;)h=Math.min(h+l,this.maxLon_),n=this.addMeridian_(h,g,p,i,e,n);for(this.meridians_.length=n,this.meridiansLabels_&&(this.meridiansLabels_.length=n),L=Math.floor(L/l)*l,s=(0,_.clamp)(L,this.minLat_,this.maxLat_),n=this.addParallel_(s,c,b,i,e,0),r=0;s!=this.minLat_&&r++<m;)s=Math.max(s-l,this.minLat_),n=this.addParallel_(s,c,b,i,e,n);for(s=(0,_.clamp)(L,this.minLat_,this.maxLat_),r=0;s!=this.maxLat_&&r++<m;)s=Math.min(s+l,this.maxLat_),n=this.addParallel_(s,c,b,i,e,n);this.parallels_.length=n,this.parallelsLabels_&&(this.parallelsLabels_.length=n)},g.prototype.getInterval_=function(e){for(var t=this.projectionCenterLonLat_[0],a=this.projectionCenterLonLat_[1],i=-1,l=Math.pow(this.targetSize_*e,2),r=[],n=[],s=0,o=this.intervals_.length;s<o;++s){var h=this.intervals_[s]/2;if(r[0]=t-h,r[1]=a-h,n[0]=t+h,n[1]=a+h,this.fromLonLatTransform_(r,r),this.fromLonLatTransform_(n,n),Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2)<=l)break;i=this.intervals_[s]}return i},g.prototype.getMeridian_=function(e,t,a,i,l){var r=(0,m.meridian)(e,t,a,this.projection_,i),s=this.meridians_[l];return s?(s.setFlatCoordinates(f.default.XY,r),s.changed()):(s=new n.default(r,f.default.XY),this.meridians_[l]=s),s},g.prototype.getMeridianPoint_=function(e,t,a){var i,l=e.getFlatCoordinates(),r=Math.max(t[1],l[1]),n=Math.min(t[3],l[l.length-1]),s=(0,_.clamp)(t[1]+Math.abs(t[1]-t[3])*this.lonLabelPosition_,r,n),o=[l[0],s];return a in this.meridiansLabels_?(i=this.meridiansLabels_[a].geom).setCoordinates(o):i=new p.default(o),i},g.prototype.getMeridians=function(){return this.meridians_},g.prototype.getParallel_=function(e,t,a,i,l){var r=(0,m.parallel)(e,t,a,this.projection_,i),s=this.parallels_[l];return s?(s.setFlatCoordinates(f.default.XY,r),s.changed()):s=new n.default(r,f.default.XY),s},g.prototype.getParallelPoint_=function(e,t,a){var i,l=e.getFlatCoordinates(),r=Math.max(t[0],l[0]),n=Math.min(t[2],l[l.length-2]),s=[(0,_.clamp)(t[0]+Math.abs(t[0]-t[2])*this.latLabelPosition_,r,n),l[1]];return a in this.parallelsLabels_?(i=this.parallelsLabels_[a].geom).setCoordinates(s):i=new p.default(s),i},g.prototype.getParallels=function(){return this.parallels_},g.prototype.updateProjectionInfo_=function(e){var t=(0,o.get)(\"EPSG:4326\"),a=e.getWorldExtent(),i=(0,o.transformExtent)(a,t,e);this.maxLat_=a[3],this.maxLon_=a[2],this.minLat_=a[1],this.minLon_=a[0],this.maxLatP_=i[3],this.maxLonP_=i[2],this.minLatP_=i[1],this.minLonP_=i[0],this.fromLonLatTransform_=(0,o.getTransform)(t,e),this.toLonLatTransform_=(0,o.getTransform)(e,t),this.projectionCenterLonLat_=this.toLonLatTransform_((0,h.getCenter)(e.getExtent())),this.projection_=e},g}(e.default),v=P;exports.default=v;"},"sourceMaps":null,"error":null,"hash":"35e78d788549ce877048ec86f637bad8","cacheData":{"env":{}}}