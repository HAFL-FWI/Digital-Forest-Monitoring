{"id":"cTMc","dependencies":[{"name":"/Users/hk/Sites/digital-forest-monitoring/package.json","includedInParent":true,"mtime":1574333047455},{"name":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/package.json","includedInParent":true,"mtime":1573122283680},{"name":"../functions.js","loc":{"line":18,"column":21},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/interaction/DragAndDrop.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/functions.js"},{"name":"../events.js","loc":{"line":19,"column":38},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/interaction/DragAndDrop.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/events.js"},{"name":"../events/Event.js","loc":{"line":20,"column":18},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/interaction/DragAndDrop.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/events/Event.js"},{"name":"../events/EventType.js","loc":{"line":21,"column":22},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/interaction/DragAndDrop.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/events/EventType.js"},{"name":"./Interaction.js","loc":{"line":22,"column":24},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/interaction/DragAndDrop.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/interaction/Interaction.js"},{"name":"../proj.js","loc":{"line":23,"column":37},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/interaction/DragAndDrop.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/proj.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=require(\"../functions.js\"),e=require(\"../events.js\"),r=o(require(\"../events/Event.js\")),s=o(require(\"../events/EventType.js\")),n=o(require(\"./Interaction.js\")),i=require(\"../proj.js\");function o(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function s(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),a={ADD_FEATURES:\"addfeatures\"},c=function(t){function e(e,r,s,n){var i=t.call(this,e)||this;return i.features=s,i.file=r,i.projection=n,i}return u(e,t),e}(r.default),l=function(r){function n(e){var s=this,n=e||{};return(s=r.call(this,{handleEvent:t.TRUE})||this).formatConstructors_=n.formatConstructors?n.formatConstructors:[],s.projection_=n.projection?(0,i.get)(n.projection):null,s.dropListenKeys_=null,s.source_=n.source||null,s.target=n.target?n.target:null,s}return u(n,r),n.prototype.handleResult_=function(t,e){var r=e.target.result,s=this.getMap(),n=this.projection_;n||(n=s.getView().getProjection());for(var i=this.formatConstructors_,o=[],u=0,l=i.length;u<l;++u){var f=new i[u];if((o=this.tryReadFeatures_(f,r,{featureProjection:n}))&&o.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(o)),this.dispatchEvent(new c(a.ADD_FEATURES,t,o,n))},n.prototype.registerListeners_=function(){var t=this.getMap();if(t){var r=this.target?this.target:t.getViewport();this.dropListenKeys_=[(0,e.listen)(r,s.default.DROP,f,this),(0,e.listen)(r,s.default.DRAGENTER,p,this),(0,e.listen)(r,s.default.DRAGOVER,p,this),(0,e.listen)(r,s.default.DROP,p,this)]}},n.prototype.setActive=function(t){!this.getActive()&&t&&this.registerListeners_(),this.getActive()&&!t&&this.unregisterListeners_(),r.prototype.setActive.call(this,t)},n.prototype.setMap=function(t){this.unregisterListeners_(),r.prototype.setMap.call(this,t),this.getActive()&&this.registerListeners_()},n.prototype.tryReadFeatures_=function(t,e,r){try{return t.readFeatures(e,r)}catch(s){return null}},n.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(e.unlistenByKey),this.dropListenKeys_=null)},n}(n.default);function f(t){for(var e=t.dataTransfer.files,r=0,n=e.length;r<n;++r){var i=e.item(r),o=new FileReader;o.addEventListener(s.default.LOAD,this.handleResult_.bind(this,i)),o.readAsText(i)}}function p(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect=\"copy\"}var h=l;exports.default=h;"},"sourceMaps":null,"error":null,"hash":"e0015e9870fa261ada242a73771c81f7","cacheData":{"env":{}}}