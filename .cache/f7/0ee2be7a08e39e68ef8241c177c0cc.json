{"id":"x3F9","dependencies":[{"name":"/Users/hk/Sites/digital-forest-monitoring/package.json","includedInParent":true,"mtime":1574333047455},{"name":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/package.json","includedInParent":true,"mtime":1573122283680},{"name":"../PluggableMap.js","loc":{"line":17,"column":25},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/PluggableMap.js"},{"name":"../renderer/Composite.js","loc":{"line":18,"column":33},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/renderer/Composite.js"},{"name":"../MapEventType.js","loc":{"line":19,"column":25},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/MapEventType.js"},{"name":"../MapProperty.js","loc":{"line":20,"column":24},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/MapProperty.js"},{"name":"../Object.js","loc":{"line":21,"column":35},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/Object.js"},{"name":"../ObjectEventType.js","loc":{"line":22,"column":28},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/ObjectEventType.js"},{"name":"../Overlay.js","loc":{"line":23,"column":20},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/Overlay.js"},{"name":"../OverlayPositioning.js","loc":{"line":24,"column":31},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/OverlayPositioning.js"},{"name":"../ViewProperty.js","loc":{"line":25,"column":25},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/ViewProperty.js"},{"name":"./Control.js","loc":{"line":26,"column":20},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/Control.js"},{"name":"../geom/Polygon.js","loc":{"line":27,"column":48},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/geom/Polygon.js"},{"name":"../css.js","loc":{"line":28,"column":67},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/css.js"},{"name":"../dom.js","loc":{"line":29,"column":28},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/dom.js"},{"name":"../events.js","loc":{"line":30,"column":35},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/events.js"},{"name":"../events/EventType.js","loc":{"line":31,"column":22},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/events/EventType.js"},{"name":"../extent.js","loc":{"line":32,"column":100},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control/OverviewMap.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/extent.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.render=E,exports.default=void 0;var e=g(require(\"../PluggableMap.js\")),t=g(require(\"../renderer/Composite.js\")),i=g(require(\"../MapEventType.js\")),o=g(require(\"../MapProperty.js\")),n=require(\"../Object.js\"),a=g(require(\"../ObjectEventType.js\")),l=g(require(\"../Overlay.js\")),r=g(require(\"../OverlayPositioning.js\")),s=g(require(\"../ViewProperty.js\")),p=g(require(\"./Control.js\")),d=require(\"../geom/Polygon.js\"),h=require(\"../css.js\"),u=require(\"../dom.js\"),c=require(\"../events.js\"),v=g(require(\"../events/EventType.js\")),_=require(\"../extent.js\");function g(e){return e&&e.__esModule?e:{default:e}}var f=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),m=.75,b=.1,w=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return f(i,e),i.prototype.createRenderer=function(){return new t.default(this)},i}(e.default),y=function(e){function t(t){var i=this,o=t||{};(i=e.call(this,{element:document.createElement(\"div\"),render:o.render||E,target:o.target})||this).boundHandleRotationChanged_=i.handleRotationChanged_.bind(i),i.collapsed_=void 0===o.collapsed||o.collapsed,i.collapsible_=void 0===o.collapsible||o.collapsible,i.collapsible_||(i.collapsed_=!1),i.rotateWithView_=void 0!==o.rotateWithView&&o.rotateWithView,i.viewExtent_=void 0;var n=void 0!==o.className?o.className:\"ol-overviewmap\",a=void 0!==o.tipLabel?o.tipLabel:\"Overview map\",s=void 0!==o.collapseLabel?o.collapseLabel:\"«\";\"string\"==typeof s?(i.collapseLabel_=document.createElement(\"span\"),i.collapseLabel_.textContent=s):i.collapseLabel_=s;var p=void 0!==o.label?o.label:\"»\";\"string\"==typeof p?(i.label_=document.createElement(\"span\"),i.label_.textContent=p):i.label_=p;var d=i.collapsible_&&!i.collapsed_?i.collapseLabel_:i.label_,u=document.createElement(\"button\");u.setAttribute(\"type\",\"button\"),u.title=a,u.appendChild(d),u.addEventListener(v.default.CLICK,i.handleClick_.bind(i),!1),i.ovmapDiv_=document.createElement(\"div\"),i.ovmapDiv_.className=\"ol-overviewmap-map\",i.ovmap_=new w({view:o.view});var c=i.ovmap_;o.layers&&o.layers.forEach(function(e){c.addLayer(e)});var _=document.createElement(\"div\");_.className=\"ol-overviewmap-box\",_.style.boxSizing=\"border-box\",i.boxOverlay_=new l.default({position:[0,0],positioning:r.default.CENTER_CENTER,element:_}),i.ovmap_.addOverlay(i.boxOverlay_);var g=n+\" \"+h.CLASS_UNSELECTABLE+\" \"+h.CLASS_CONTROL+(i.collapsed_&&i.collapsible_?\" \"+h.CLASS_COLLAPSED:\"\")+(i.collapsible_?\"\":\" ol-uncollapsible\"),f=i.element;f.className=g,f.appendChild(i.ovmapDiv_),f.appendChild(u);var m=i,b=i.boxOverlay_,y=i.boxOverlay_.getElement(),C=function(e){var t,i={clientX:(t=e).clientX,clientY:t.clientY},o=c.getEventCoordinateInternal(i);b.setPosition(o)},x=function(e){var t=c.getEventCoordinateInternal(e);m.getMap().getView().setCenterInternal(t),window.removeEventListener(\"mousemove\",C),window.removeEventListener(\"mouseup\",x)};return y.addEventListener(\"mousedown\",function(){window.addEventListener(\"mousemove\",C),window.addEventListener(\"mouseup\",x)}),i}return f(t,e),t.prototype.setMap=function(t){var i=this.getMap();if(t!==i){if(i){var o=i.getView();o&&this.unbindView_(o),this.ovmap_.setTarget(null)}if(e.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,c.listen)(t,a.default.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var n=t.getView();n&&(this.bindView_(n),n.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},t.prototype.handleMapPropertyChange_=function(e){if(e.key===o.default.VIEW){var t=e.oldValue;t&&this.unbindView_(t);var i=this.getMap().getView();this.bindView_(i)}},t.prototype.bindView_=function(e){e.addEventListener((0,n.getChangeEventType)(s.default.ROTATION),this.boundHandleRotationChanged_)},t.prototype.unbindView_=function(e){e.removeEventListener((0,n.getChangeEventType)(s.default.ROTATION),this.boundHandleRotationChanged_)},t.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},t.prototype.validateExtent_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var i=e.getSize(),o=e.getView().calculateExtentInternal(i);if(!this.viewExtent_||!(0,_.equals)(o,this.viewExtent_)){this.viewExtent_=o;var n=t.getSize(),a=t.getView().calculateExtentInternal(n),l=t.getPixelFromCoordinateInternal((0,_.getTopLeft)(o)),r=t.getPixelFromCoordinateInternal((0,_.getBottomRight)(o)),s=Math.abs(l[0]-r[0]),p=Math.abs(l[1]-r[1]),d=n[0],h=n[1];s<d*b||p<h*b||s>d*m||p>h*m?this.resetExtent_():(0,_.containsExtent)(a,o)||this.recenter_()}}},t.prototype.resetExtent_=function(){if(0!==m&&0!==b){var e=this.getMap(),t=this.ovmap_,i=e.getSize(),o=e.getView().calculateExtentInternal(i),n=t.getView(),a=Math.log(m/b)/Math.LN2,l=1/(Math.pow(2,a/2)*b);(0,_.scaleFromCenter)(o,l),n.fitInternal((0,d.fromExtent)(o))}},t.prototype.recenter_=function(){var e=this.getMap(),t=this.ovmap_,i=e.getView();t.getView().setCenterInternal(i.getCenterInternal())},t.prototype.updateBox_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var i=e.getSize(),o=e.getView(),n=t.getView(),a=this.rotateWithView_?0:-o.getRotation(),l=this.boxOverlay_,r=this.boxOverlay_.getElement(),s=o.getCenterInternal(),p=o.getResolution(),d=n.getResolution(),h=i[0]*p/d,u=i[1]*p/d;if(l.setPosition(s),r){r.style.width=h+\"px\",r.style.height=u+\"px\";var c=\"rotate(\"+a+\"rad)\";r.style.transform=c}}},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},t.prototype.handleToggle_=function(){this.element.classList.toggle(h.CLASS_COLLAPSED),this.collapsed_?(0,u.replaceNode)(this.collapseLabel_,this.label_):(0,u.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;if(!this.collapsed_){if(e.isRendered())return this.viewExtent_=void 0,void e.render();e.updateSize(),this.resetExtent_(),(0,c.listenOnce)(e,i.default.POSTRENDER,function(e){this.updateBox_()},this)}},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle(\"ol-uncollapsible\"),!e&&this.collapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.setRotateWithView=function(e){this.rotateWithView_!==e&&(this.rotateWithView_=e,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},t.prototype.getOverviewMap=function(){return this.ovmap_},t}(p.default);function E(e){this.validateExtent_(),this.updateBox_()}var C=y;exports.default=C;"},"sourceMaps":null,"error":null,"hash":"98a840d982fc7ea0b3eccee1c98fb066","cacheData":{"env":{}}}