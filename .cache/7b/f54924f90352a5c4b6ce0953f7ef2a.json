{"id":"QaCa","dependencies":[{"name":"/Users/hk/Sites/digital-forest-monitoring/package.json","includedInParent":true,"mtime":1574333047455},{"name":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/package.json","includedInParent":true,"mtime":1573122283680},{"name":"../../util.js","loc":{"line":17,"column":23},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/util.js"},{"name":"../../ViewHint.js","loc":{"line":18,"column":21},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/ViewHint.js"},{"name":"../../extent.js","loc":{"line":19,"column":94},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/extent.js"},{"name":"../../proj.js","loc":{"line":20,"column":93},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/proj.js"},{"name":"../../render/canvas/BuilderGroup.js","loc":{"line":21,"column":31},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/render/canvas/BuilderGroup.js"},{"name":"../../render/canvas/ExecutorGroup.js","loc":{"line":22,"column":47},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/render/canvas/ExecutorGroup.js"},{"name":"./Layer.js","loc":{"line":23,"column":32},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/renderer/canvas/Layer.js"},{"name":"../vector.js","loc":{"line":24,"column":152},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/renderer/vector.js"},{"name":"../../transform.js","loc":{"line":25,"column":77},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/transform.js"},{"name":"../../render/canvas/hitdetect.js","loc":{"line":26,"column":55},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/renderer/canvas/VectorLayer.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/render/canvas/hitdetect.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=require(\"../../util.js\"),t=c(require(\"../../ViewHint.js\")),r=require(\"../../extent.js\"),n=require(\"../../proj.js\"),i=c(require(\"../../render/canvas/BuilderGroup.js\")),a=l(require(\"../../render/canvas/ExecutorGroup.js\")),o=c(require(\"./Layer.js\")),s=require(\"../vector.js\"),d=require(\"../../transform.js\"),u=require(\"../../render/canvas/hitdetect.js\");function h(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function l(e){if(e&&e.__esModule)return e;var t=h();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}}return r.default=e,t&&t.set(e,r),r}function c(e){return e&&e.__esModule?e:{default:e}}var p=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),f=function(o){function h(e){var t=o.call(this,e)||this;return t.boundHandleStyleImageChange_=t.handleStyleImageChange_.bind(t),t.animatingOrInteracting_,t.dirty_=!1,t.hitDetectionImageData_=null,t.renderedFeatures_=null,t.renderedRevision_=-1,t.renderedResolution_=NaN,t.renderedExtent_=(0,r.createEmpty)(),t.renderedRotation_,t.renderedCenter_=null,t.renderedProjection_=null,t.renderedRenderOrder_=null,t.replayGroup_=null,t.replayGroupChanged=!0,t}return p(h,o),h.prototype.useContainer=function(e,t,r){r<1&&(e=null),o.prototype.useContainer.call(this,e,t,r)},h.prototype.renderFrame=function(e,i){var o=e.pixelRatio,s=e.layerStatesArray[e.layerIndex];(0,d.makeScale)(this.pixelTransform,1/o,1/o),(0,d.makeInverse)(this.inversePixelTransform,this.pixelTransform);var u=(0,d.toString)(this.pixelTransform);this.useContainer(i,u,s.opacity);var h=this.context,l=h.canvas,c=this.replayGroup_;if(!c||c.isEmpty())return!this.containerReused&&l.width>0&&(l.width=0),this.container;var p=Math.round(e.size[0]*o),f=Math.round(e.size[1]*o);l.width!=p||l.height!=f?(l.width=p,l.height=f,l.style.transform!==u&&(l.style.transform=u)):this.containerReused||h.clearRect(0,0,p,f),this.preRender(h,e);var g=e.extent,y=e.viewState,v=y.center,_=y.resolution,m=y.projection,x=y.rotation,I=m.getExtent(),R=this.getLayer().getSource(),j=!1;if(s.extent){var E=(0,n.fromUserExtent)(s.extent,m);(j=!(0,r.containsExtent)(E,e.extent)&&(0,r.intersects)(E,e.extent))&&this.clip(h,e,E)}var F=e.viewHints,w=!(F[t.default.ANIMATING]||F[t.default.INTERACTING]),O=this.getRenderTransform(v,_,x,o,p,f,0),T=this.getLayer().getDeclutter()?{}:null;if(c.execute(h,O,x,w,void 0,T),R.getWrapX()&&m.canWrapX()&&!(0,r.containsExtent)(I,g)){for(var D=g[0],C=(0,r.getWidth)(I),G=0,S=void 0;D<I[0];){S=C*--G;var b=this.getRenderTransform(v,_,x,o,p,f,S);c.execute(h,b,x,w,void 0,T),D+=C}for(G=0,D=g[2];D>I[2];){S=C*++G;var A=this.getRenderTransform(v,_,x,o,p,f,S);c.execute(h,A,x,w,void 0,T),D-=C}}if(T){var P=e.viewHints,N=!(P[t.default.ANIMATING]||P[t.default.INTERACTING]);(0,a.replayDeclutter)(T,h,x,1,N,e.declutterItems)}j&&h.restore(),this.postRender(h,e);var W=s.opacity,q=this.container;return W!==parseFloat(q.style.opacity)&&(q.style.opacity=1===W?\"\":W),this.container},h.prototype.getFeatures=function(e){return new Promise(function(t,n){this.hitDetectionImageData_||this.animatingOrInteracting_?t((0,u.hitDetect)(e,this.renderedFeatures_,this.hitDetectionImageData_)):requestAnimationFrame(function(){var n=[this.context.canvas.width,this.context.canvas.height];(0,d.apply)(this.pixelTransform,n);var i=this.renderedCenter_,a=this.renderedResolution_,o=this.renderedRotation_,s=this.renderedProjection_,h=this.renderedExtent_,l=this.getLayer(),c=[],p=n[0]/2,f=n[1]/2;c.push(this.getRenderTransform(i,a,o,.5,p,f,0).slice());var g=l.getSource(),y=s.getExtent();if(g.getWrapX()&&s.canWrapX()&&!(0,r.containsExtent)(y,h)){for(var v=h[0],_=(0,r.getWidth)(y),m=0,x=void 0;v<y[0];)x=_*--m,c.push(this.getRenderTransform(i,a,o,.5,p,f,x).slice()),v+=_;for(m=0,v=h[2];v>y[2];)x=_*++m,c.push(this.getRenderTransform(i,a,o,.5,p,f,x).slice()),v-=_}this.hitDetectionImageData_=(0,u.createHitDetectionImageData)(n,c,this.renderedFeatures_,l.getStyleFunction(),h,a,o),t((0,u.hitDetect)(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))}.bind(this))},h.prototype.forEachFeatureAtCoordinate=function(t,r,n,i,a){if(this.replayGroup_){var o=r.viewState.resolution,s=r.viewState.rotation,d=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,s,n,function(t){var r=(0,e.getUid)(t);if(!(r in u))return u[r]=!0,i(t,d)},d.getDeclutter()?a:null)}},h.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},h.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},h.prototype.prepareFrame=function(e){var o=this.getLayer(),d=o.getSource(),u=e.viewHints[t.default.ANIMATING],h=e.viewHints[t.default.INTERACTING],l=o.getUpdateWhileAnimating(),c=o.getUpdateWhileInteracting();if(!this.dirty_&&!l&&u||!c&&h)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var p=e.extent,f=e.viewState,g=f.projection,y=f.resolution,v=e.pixelRatio,_=o.getRevision(),m=o.getRenderBuffer(),x=o.getRenderOrder();void 0===x&&(x=s.defaultOrder);var I=f.center.slice(),R=(0,r.buffer)(p,m*y),j=f.projection.getExtent();if(d.getWrapX()&&f.projection.canWrapX()&&!(0,r.containsExtent)(j,e.extent)){var E=(0,r.getWidth)(j),F=Math.max((0,r.getWidth)(R)/2,E);R[0]=j[0]-F,R[2]=j[2]+F;var w=Math.floor((I[0]-j[0])/E);I[0]-=w*E}if(!this.dirty_&&this.renderedResolution_==y&&this.renderedRevision_==_&&this.renderedRenderOrder_==x&&(0,r.containsExtent)(this.renderedExtent_,R))return this.replayGroupChanged=!1,!0;this.replayGroup_&&this.replayGroup_.dispose(),this.replayGroup_=null,this.dirty_=!1;var O,T=new i.default((0,s.getTolerance)(y,v),R,y,v,o.getDeclutter()),D=(0,n.getUserProjection)();D?(d.loadFeatures((0,n.toUserExtent)(R,g),y,D),O=(0,n.getTransformFromProjections)(D,g)):d.loadFeatures(R,y,g);var C=(0,s.getSquaredTolerance)(y,v),G=function(e){var t,r=e.getStyleFunction()||o.getStyleFunction();if(r&&(t=r(e,y)),t){var n=this.renderFeature(e,C,t,T,O);this.dirty_=this.dirty_||n}}.bind(this),S=(0,n.toUserExtent)(R,g),b=d.getFeaturesInExtent(S);x&&b.sort(x);for(var A=0,P=b.length;A<P;++A)G(b[A]);this.renderedFeatures_=b;var N=T.finish(),W=new a.default(R,y,v,d.getOverlaps(),N,o.getRenderBuffer());return this.renderedResolution_=y,this.renderedRevision_=_,this.renderedRenderOrder_=x,this.renderedExtent_=R,this.renderedRotation_=f.rotation,this.renderedCenter_=I,this.renderedProjection_=g,this.replayGroup_=W,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},h.prototype.renderFeature=function(e,t,r,n,i){if(!r)return!1;var a=!1;if(Array.isArray(r))for(var o=0,d=r.length;o<d;++o)a=(0,s.renderFeature)(n,e,r[o],t,this.boundHandleStyleImageChange_,i)||a;else a=(0,s.renderFeature)(n,e,r,t,this.boundHandleStyleImageChange_,i);return a},h}(o.default),g=f;exports.default=g;"},"sourceMaps":null,"error":null,"hash":"b60cca2d00ca8507834eea8de2ba7e8d","cacheData":{"env":{}}}