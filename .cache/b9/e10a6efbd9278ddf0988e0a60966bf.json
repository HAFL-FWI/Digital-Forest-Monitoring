{"id":"C2VR","dependencies":[{"name":"/Users/hk/Sites/digital-forest-monitoring/package.json","includedInParent":true,"mtime":1574333047455},{"name":"ol/control","loc":{"line":1,"column":24},"parent":"/Users/hk/Sites/digital-forest-monitoring/src/utils/VeraenderungControl.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/control.js"},{"name":"ol/layer/Tile","loc":{"line":2,"column":22},"parent":"/Users/hk/Sites/digital-forest-monitoring/src/utils/VeraenderungControl.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/layer/Tile.js"},{"name":"ol/source","loc":{"line":3,"column":24},"parent":"/Users/hk/Sites/digital-forest-monitoring/src/utils/VeraenderungControl.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source.js"},{"name":"@material/slider","loc":{"line":4,"column":26},"parent":"/Users/hk/Sites/digital-forest-monitoring/src/utils/VeraenderungControl.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/@material/slider/index.js"},{"name":"./main_util","loc":{"line":5,"column":42},"parent":"/Users/hk/Sites/digital-forest-monitoring/src/utils/VeraenderungControl.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/src/utils/main_util.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=require(\"ol/control\"),t=i(require(\"ol/layer/Tile\")),n=require(\"ol/source\"),a=require(\"@material/slider\"),r=require(\"./main_util\");function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var s=function(){function i(e){var t=e.map,n=e.title;l(this,i),this.map=t,this.title=n,this.overlays=[{layername:\"karten-werk:ndvi_max_ch_forest_diff_2018_2017\",displayName:\"Veränderung 17/18\",description:\"Difference between NDVI Maximum of 2018 and 2017, clipped to forest areas, Switzerland (expect small area in SW):\\n        Sentinel-2 NDVI maximum June & July for 2017\\n        Sentinel-2 NDVI maximum June & July for 2018\\n        Difference between 2018-2017\",visible:!0},{layername:\"karten-werk:ndvi_max_ch_forest_diff_2018_2017_decrease\",displayName:\"Vegetationsabnahme 17/18\",description:\"Difference between NDVI Maximum of 2018 and 2017, clipped to forest areas, Switzerland (expect small area in SW):\\n        Sentinel-2 NDVI maximum June & July for 2017\\n        Sentinel-2 NDVI maximum June & July for 2018\\n        This layer displays only areas where the ndvi has decresed e.g. areas of vegetation loss.\\n        Difference between 2018-2017\",visible:!1}]}return c(i,[{key:\"createVeraenderungControl\",value:function(){var t=new DocumentFragment,n=document.createElement(\"div\");n.classList.add(\"veraenderungControl__title\"),n.addEventListener(\"click\",function(){0===l.getBoundingClientRect().height?(l.style.transform=\"scale(1,1)\",l.style.opacity=1,i.style.transform=\"rotate(0deg)\"):(l.style.opacity=0,l.style.transform=\"scale(1,0)\",i.style.transform=\"rotate(-90deg)\")});var a=document.createElement(\"span\");a.style.flexGrow=1,a.style.fontSize=\"17px\",a.innerHTML=this.title;var r=document.createElement(\"i\");r.classList.add(\"material-icons\"),r.innerHTML=\"tune\";var i=document.createElement(\"i\");i.classList.add(\"material-icons\",\"title__arrow\"),i.innerHTML=\"keyboard_arrow_down\",a.title=\"Schaltflächen anzeigen\",n.appendChild(a),n.appendChild(r),n.appendChild(i);var l=this.getLayerControls();return t.appendChild(n),t.appendChild(l),new e.Control({element:t})}},{key:\"getLayerControls\",value:function(){var e=this,t=document.createElement(\"div\");return t.classList.add(\"veraenderungControl__controls\"),this.overlays.forEach(function(n){var a=e.createWmsLayer(n);e.map.addLayer(a);var r=document.createElement(\"div\");r.classList.add(\"veraenderungControl__controls-control\"),r.appendChild(e.getSwitch({wmsLayer:a,overlay:n})),r.appendChild(e.getLayerInfoIcon(n)),r.appendChild(e.getSlider(a)),t.appendChild(r)}),t}},{key:\"createWmsLayer\",value:function(e){var a=new t.default({opacity:1,source:new n.TileWMS({url:\"https://geoserver.karten-werk.ch/wms\",params:{LAYERS:\"\".concat(e.layername),FORMAT:\"image/png\",SRS:\"EPSG:3857\"},serverType:\"geoserver\",transition:0})});return a.name=\"\".concat(e.layername),a.setVisible(e.visible),a}},{key:\"getLayerInfoIcon\",value:function(e){var t=document.createElement(\"button\");return t.classList.add(\"layerinfo-button\",\"mdc-icon-button\",\"material-icons\"),t.innerHTML=\"info\",t.addEventListener(\"click\",function(){var t=new DocumentFragment,n=document.createElement(\"h3\");n.innerHTML=\"\".concat(e.displayName);var a=document.createElement(\"div\");a.innerHTML=(0,r.getLayerInfo)(e),t.appendChild(n),t.appendChild(a),(0,r.openSidebar)({content:t})}),t}},{key:\"getSwitch\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.wmsLayer,n=e.overlay,a=new DocumentFragment,r=document.createElement(\"div\"),i=document.createElement(\"div\"),l=document.createElement(\"div\"),d=document.createElement(\"div\"),c=document.createElement(\"input\"),s=document.createElement(\"label\");return r.classList.add(\"mdc-switch\"),i.classList.add(\"mdc-switch__track\"),l.classList.add(\"mdc-switch__thumb-underlay\"),d.classList.add(\"mdc-switch__thumb\"),c.classList.add(\"mdc-switch__native-control\"),c.type=\"checkbox\",c.id=\"\".concat(n.layername,\"_switch\"),c.checked=n.visible,c.setAttribute(\"role\",\"switch\"),t&&n.displayName&&c.addEventListener(\"change\",function(e){t.setVisible(e.target.checked)}),s.for=\"layer-switch\",s.innerHTML=\"\".concat(n.displayName),s.style.padding=\"0 0 0 12px\",s.style.flexGrow=1,s.style.fontSize=\"12px\",d.appendChild(c),l.appendChild(d),r.appendChild(i),r.appendChild(l),a.appendChild(r),a.appendChild(s),a}},{key:\"getSlider\",value:function(e){var t=document.createElement(\"div\");t.classList.add(\"slidercontainer\");var n=document.createElement(\"i\");n.classList.add(\"material-icons\"),n.innerHTML=\"opacity\",n.title=\"Transparenz\",n.style.padding=\"0 12px 0 0\";var r=document.createElement(\"div\");r.id=\"\".concat(e.name,\"_slider\"),r.title=\"Transparenz\";var i=document.createElement(\"div\"),l=document.createElement(\"div\"),d=document.createElement(\"div\");return r.classList.add(\"mdc-slider\",\"mdc-slider--discrete\"),r.tabIndex=\"0\",r.setAttribute(\"role\",\"slider\"),r.setAttribute(\"aria-valuemin\",\"0\"),r.setAttribute(\"aria-valuemax\",\"100\"),r.setAttribute(\"aria-valuenow\",\"100\"),r.setAttribute(\"ariaLabel\",\"transparency slider\"),i.classList.add(\"mdc-slider__track-container\"),l.classList.add(\"mdc-slider__track\"),d.classList.add(\"mdc-slider__thumb-container\"),d.innerHTML='<div class=\"mdc-slider__pin\"><span class=\"mdc-slider__pin-value-marker\">\\n    </span></div><svg class=\"mdc-slider__thumb\" width=\"21\" height=\"21\">\\n    <circle cx=\"10.5\" cy=\"10.5\" r=\"7.875\"></circle></svg><div class=\"mdc-slider__focus-ring\"></div>',i.appendChild(l),r.appendChild(i),r.appendChild(d),t.appendChild(n),t.appendChild(r),new a.MDCSlider(r).listen(\"MDCSlider:input\",function(t){var n=parseFloat(t.target.getAttribute(\"aria-valuenow\")/100);e.setOpacity(n)}),t}},{key:\"getDivider\",value:function(){return document.createElement(\"hr\")}}]),i}(),o=s;exports.default=o;"},"sourceMaps":null,"error":null,"hash":"dcb06891c07d3bb2c20f8d1fc564b520","cacheData":{"env":{}}}