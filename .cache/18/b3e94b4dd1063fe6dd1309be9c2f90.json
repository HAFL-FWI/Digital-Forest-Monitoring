{"id":"HHDy","dependencies":[{"name":"/Users/hk/Sites/digital-forest-monitoring/package.json","includedInParent":true,"mtime":1574333047455},{"name":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/package.json","includedInParent":true,"mtime":1573122283680},{"name":"../Image.js","loc":{"line":17,"column":25},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageMapGuide.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/Image.js"},{"name":"../events/EventType.js","loc":{"line":18,"column":22},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageMapGuide.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/events/EventType.js"},{"name":"../extent.js","loc":{"line":19,"column":80},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageMapGuide.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/extent.js"},{"name":"../obj.js","loc":{"line":20,"column":23},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageMapGuide.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/obj.js"},{"name":"./Image.js","loc":{"line":21,"column":54},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageMapGuide.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/Image.js"},{"name":"../uri.js","loc":{"line":22,"column":29},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageMapGuide.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/uri.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=u(require(\"../Image.js\")),t=u(require(\"../events/EventType.js\")),i=require(\"../extent.js\"),r=require(\"../obj.js\"),n=s(require(\"./Image.js\")),o=require(\"../uri.js\");function a(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){if(e&&e.__esModule)return e;var t=a();if(t&&t.has(e))return t.get(e);var i={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=r?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(i,n,o):i[n]=e[n]}}return i.default=e,t&&t.set(e,i),i}function u(e){return e&&e.__esModule?e:{default:e}}var p=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),d=function(a){function s(e){var t=a.call(this,{projection:e.projection,resolutions:e.resolutions})||this;return t.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,t.displayDpi_=void 0!==e.displayDpi?e.displayDpi:96,t.params_=e.params||{},t.url_=e.url,t.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:n.defaultImageLoadFunction,t.hidpi_=void 0===e.hidpi||e.hidpi,t.metersPerUnit_=void 0!==e.metersPerUnit?e.metersPerUnit:1,t.ratio_=void 0!==e.ratio?e.ratio:1,t.useOverlay_=void 0!==e.useOverlay&&e.useOverlay,t.image_=null,t.renderedRevision_=0,t}return p(s,a),s.prototype.getParams=function(){return this.params_},s.prototype.getImageInternal=function(r,n,o,a){n=this.findNearestResolution(n),o=this.hidpi_?o:1;var s=this.image_;if(s&&this.renderedRevision_==this.getRevision()&&s.getResolution()==n&&s.getPixelRatio()==o&&(0,i.containsExtent)(s.getExtent(),r))return s;1!=this.ratio_&&(r=r.slice(),(0,i.scaleFromCenter)(r,this.ratio_));var u=[(0,i.getWidth)(r)/n*o,(0,i.getHeight)(r)/n*o];if(void 0!==this.url_){var p=this.getUrl(this.url_,this.params_,r,u,a);(s=new e.default(r,n,o,p,this.crossOrigin_,this.imageLoadFunction_)).addEventListener(t.default.CHANGE,this.handleImageChange.bind(this))}else s=null;return this.image_=s,this.renderedRevision_=this.getRevision(),s},s.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},s.prototype.updateParams=function(e){(0,r.assign)(this.params_,e),this.changed()},s.prototype.getUrl=function(e,t,n,a,s){var u=c(n,a,this.metersPerUnit_,this.displayDpi_),p=(0,i.getCenter)(n),d={OPERATION:this.useOverlay_?\"GETDYNAMICMAPOVERLAYIMAGE\":\"GETMAPIMAGE\",VERSION:\"2.0.0\",LOCALE:\"en\",CLIENTAGENT:\"ol/source/ImageMapGuide source\",CLIP:\"1\",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(a[0]),SETDISPLAYHEIGHT:Math.round(a[1]),SETVIEWSCALE:u,SETVIEWCENTERX:p[0],SETVIEWCENTERY:p[1]};return(0,r.assign)(d,t),(0,o.appendParams)(e,d)},s.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},s}(n.default);function c(e,t,r,n){var o=(0,i.getWidth)(e),a=(0,i.getHeight)(e),s=t[0],u=t[1],p=.0254/n;return u*o>s*a?o*r/(s*p):a*r/(u*p)}var l=d;exports.default=l;"},"sourceMaps":null,"error":null,"hash":"01a3705198cd998ac2bd5c39ed1b3257","cacheData":{"env":{}}}