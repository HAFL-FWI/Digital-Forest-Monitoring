{"id":"L7CC","dependencies":[{"name":"/Users/hk/Sites/digital-forest-monitoring/package.json","includedInParent":true,"mtime":1574333047455},{"name":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/package.json","includedInParent":true,"mtime":1573122283680},{"name":"../util.js","loc":{"line":17,"column":23},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/Cluster.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/util.js"},{"name":"../asserts.js","loc":{"line":18,"column":23},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/Cluster.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/asserts.js"},{"name":"../Feature.js","loc":{"line":19,"column":20},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/Cluster.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/Feature.js"},{"name":"../geom/GeometryType.js","loc":{"line":20,"column":25},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/Cluster.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/geom/GeometryType.js"},{"name":"../coordinate.js","loc":{"line":21,"column":63},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/Cluster.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/coordinate.js"},{"name":"../events/EventType.js","loc":{"line":22,"column":22},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/Cluster.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/events/EventType.js"},{"name":"../extent.js","loc":{"line":23,"column":66},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/Cluster.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/extent.js"},{"name":"../geom/Point.js","loc":{"line":24,"column":18},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/Cluster.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/geom/Point.js"},{"name":"./Vector.js","loc":{"line":25,"column":25},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/Cluster.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/Vector.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=require(\"../util.js\"),t=require(\"../asserts.js\"),r=c(require(\"../Feature.js\")),o=c(require(\"../geom/GeometryType.js\")),s=require(\"../coordinate.js\"),i=c(require(\"../events/EventType.js\")),n=require(\"../extent.js\"),u=c(require(\"../geom/Point.js\")),a=c(require(\"./Vector.js\"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),d=function(a){function c(e){var r=a.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return r.resolution=void 0,r.distance=void 0!==e.distance?e.distance:20,r.features=[],r.geometryFunction=e.geometryFunction||function(e){var r=e.getGeometry();return(0,t.assert)(r.getType()==o.default.POINT,10),r},r.source=e.source,r.source.addEventListener(i.default.CHANGE,r.refresh.bind(r)),r}return f(c,a),c.prototype.getDistance=function(){return this.distance},c.prototype.getSource=function(){return this.source},c.prototype.loadFeatures=function(e,t,r){this.source.loadFeatures(e,t,r),t!==this.resolution&&(this.clear(),this.resolution=t,this.cluster(),this.addFeatures(this.features))},c.prototype.setDistance=function(e){this.distance=e,this.refresh()},c.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},c.prototype.cluster=function(){if(void 0!==this.resolution){this.features.length=0;for(var t=(0,n.createEmpty)(),r=this.distance*this.resolution,o=this.source.getFeatures(),s={},i=0,u=o.length;i<u;i++){var a=o[i];if(!((0,e.getUid)(a)in s)){var c=this.geometryFunction(a);if(c){var f=c.getCoordinates();(0,n.createOrUpdateFromCoordinate)(f,t),(0,n.buffer)(t,r,t);var d=this.source.getFeaturesInExtent(t);d=d.filter(function(t){var r=(0,e.getUid)(t);return!(r in s)&&(s[r]=!0,!0)}),this.features.push(this.createCluster(d))}}}}},c.prototype.createCluster=function(e){for(var t=[0,0],o=e.length-1;o>=0;--o){var i=this.geometryFunction(e[o]);i?(0,s.add)(t,i.getCoordinates()):e.splice(o,1)}(0,s.scale)(t,1/e.length);var n=new r.default(new u.default(t));return n.set(\"features\",e),n},c}(a.default),h=d;exports.default=h;"},"sourceMaps":null,"error":null,"hash":"b42deb53c882efe9a0d5e6d1bf0a1468","cacheData":{"env":{}}}