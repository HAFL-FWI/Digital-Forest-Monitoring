{"id":"iEtH","dependencies":[{"name":"/Users/hk/Sites/digital-forest-monitoring/package.json","includedInParent":true,"mtime":1574333047455},{"name":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/package.json","includedInParent":true,"mtime":1573122283680},{"name":"@openlayers/pepjs","loc":{"line":17,"column":7},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/MapBrowserEventHandler.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/@openlayers/pepjs/dist/pep.js"},{"name":"./has.js","loc":{"line":18,"column":35},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/MapBrowserEventHandler.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/has.js"},{"name":"./MapBrowserEventType.js","loc":{"line":19,"column":32},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/MapBrowserEventHandler.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/MapBrowserEventType.js"},{"name":"./MapBrowserPointerEvent.js","loc":{"line":20,"column":35},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/MapBrowserEventHandler.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/MapBrowserPointerEvent.js"},{"name":"./events.js","loc":{"line":21,"column":38},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/MapBrowserEventHandler.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/events.js"},{"name":"./events/Target.js","loc":{"line":22,"column":24},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/MapBrowserEventHandler.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/events/Target.js"},{"name":"./pointer/EventType.js","loc":{"line":23,"column":29},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/MapBrowserEventHandler.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/pointer/EventType.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0,require(\"@openlayers/pepjs\");var t=require(\"./has.js\"),e=o(require(\"./MapBrowserEventType.js\")),i=o(require(\"./MapBrowserPointerEvent.js\")),n=require(\"./events.js\"),s=o(require(\"./events/Target.js\")),r=o(require(\"./pointer/EventType.js\"));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(s){function o(e,i){var o=s.call(this,e)||this;o.map_=e,o.clickTimeoutId_,o.dragging_=!1,o.dragListenerKeys_=[],o.moveTolerance_=i?i*t.DEVICE_PIXEL_RATIO:t.DEVICE_PIXEL_RATIO,o.down_=null;var a=o.map_.getViewport();return o.activePointers_=0,o.trackedTouches_={},o.element_=a,o.pointerdownListenerKey_=(0,n.listen)(a,r.default.POINTERDOWN,o.handlePointerDown_,o),o.relayedListenerKey_=(0,n.listen)(a,r.default.POINTERMOVE,o.relayEvent_,o),o}return a(o,s),o.prototype.emulateClick_=function(t){var n=new i.default(e.default.CLICK,this.map_,t);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new i.default(e.default.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var n=new i.default(e.default.SINGLECLICK,this.map_,t);this.dispatchEvent(n)}.bind(this),250)},o.prototype.updateActivePointers_=function(t){var i=t;i.type==e.default.POINTERUP||i.type==e.default.POINTERCANCEL?delete this.trackedTouches_[i.pointerId]:i.type==e.default.POINTERDOWN&&(this.trackedTouches_[i.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},o.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var s=new i.default(e.default.POINTERUP,this.map_,t);this.dispatchEvent(s),s.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(n.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},o.prototype.isMouseActionButton_=function(t){return 0===t.button},o.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var s=new i.default(e.default.POINTERDOWN,this.map_,t);this.dispatchEvent(s),this.down_=t,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push((0,n.listen)(document,e.default.POINTERMOVE,this.handlePointerMove_,this),(0,n.listen)(document,e.default.POINTERUP,this.handlePointerUp_,this),(0,n.listen)(this.element_,e.default.POINTERCANCEL,this.handlePointerUp_,this))},o.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var n=new i.default(e.default.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(n)}},o.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new i.default(t.type,this.map_,t,e))},o.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},o.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,n.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&((0,n.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(n.unlistenByKey),this.dragListenerKeys_.length=0,this.element_=null,s.prototype.disposeInternal.call(this)},o}(s.default),h=u;exports.default=h;"},"sourceMaps":null,"error":null,"hash":"1951266b80857fb45ba5585a29bea68c","cacheData":{"env":{}}}