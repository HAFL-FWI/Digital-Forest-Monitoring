{"id":"JJzC","dependencies":[{"name":"/Users/hk/Sites/digital-forest-monitoring/package.json","includedInParent":true,"mtime":1574333047455},{"name":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/package.json","includedInParent":true,"mtime":1573122283680},{"name":"./common.js","loc":{"line":17,"column":32},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/reproj/Image.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/reproj/common.js"},{"name":"../ImageBase.js","loc":{"line":18,"column":22},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/reproj/Image.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/ImageBase.js"},{"name":"../ImageState.js","loc":{"line":19,"column":23},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/reproj/Image.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/ImageState.js"},{"name":"../events.js","loc":{"line":20,"column":38},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/reproj/Image.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/events.js"},{"name":"../events/EventType.js","loc":{"line":21,"column":22},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/reproj/Image.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/events/EventType.js"},{"name":"../extent.js","loc":{"line":22,"column":64},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/reproj/Image.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/extent.js"},{"name":"../reproj.js","loc":{"line":23,"column":71},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/reproj/Image.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/reproj.js"},{"name":"./Triangulation.js","loc":{"line":24,"column":26},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/reproj/Image.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/reproj/Triangulation.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=require(\"./common.js\"),e=a(require(\"../ImageBase.js\")),r=a(require(\"../ImageState.js\")),o=require(\"../events.js\"),n=a(require(\"../events/EventType.js\")),i=require(\"../extent.js\"),s=require(\"../reproj.js\"),u=a(require(\"./Triangulation.js\"));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),l=function(e){function a(o,n,a,c,l,_){var g=this,h=o.getExtent(),f=n.getExtent(),p=f?(0,i.getIntersection)(a,f):a,d=(0,i.getCenter)(p),E=(0,s.calculateSourceResolution)(o,n,d,c),y=t.ERROR_THRESHOLD,x=new u.default(o,n,p,h,E*y),I=_(x.calculateSourceExtent(),E,l),R=I?r.default.IDLE:r.default.EMPTY,j=I?I.getPixelRatio():1;return(g=e.call(this,a,c,j,R)||this).targetProj_=n,g.maxSourceExtent_=h,g.triangulation_=x,g.targetResolution_=c,g.targetExtent_=a,g.sourceImage_=I,g.sourcePixelRatio_=j,g.canvas_=null,g.sourceListenerKey_=null,g}return c(a,e),a.prototype.disposeInternal=function(){this.state==r.default.LOADING&&this.unlistenSource_(),e.prototype.disposeInternal.call(this)},a.prototype.getImage=function(){return this.canvas_},a.prototype.getProjection=function(){return this.targetProj_},a.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==r.default.LOADED){var e=(0,i.getWidth)(this.targetExtent_)/this.targetResolution_,o=(0,i.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,s.render)(e,o,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},a.prototype.load=function(){if(this.state==r.default.IDLE){this.state=r.default.LOADING,this.changed();var t=this.sourceImage_.getState();t==r.default.LOADED||t==r.default.ERROR?this.reproject_():(this.sourceListenerKey_=(0,o.listen)(this.sourceImage_,n.default.CHANGE,function(t){var e=this.sourceImage_.getState();e!=r.default.LOADED&&e!=r.default.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},a.prototype.unlistenSource_=function(){(0,o.unlistenByKey)(this.sourceListenerKey_),this.sourceListenerKey_=null},a}(e.default),_=l;exports.default=_;"},"sourceMaps":null,"error":null,"hash":"1af6385067f8510a644a0ab7edcea03c","cacheData":{"env":{}}}