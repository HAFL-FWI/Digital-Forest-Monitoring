{"id":"sCjt","dependencies":[{"name":"/Users/hk/Sites/digital-forest-monitoring/package.json","includedInParent":true,"mtime":1574333047455},{"name":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/package.json","includedInParent":true,"mtime":1573122283680},{"name":"../../array.js","loc":{"line":17,"column":42},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/array.js"},{"name":"../../dom.js","loc":{"line":18,"column":38},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/dom.js"},{"name":"../../extent.js","loc":{"line":19,"column":54},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/extent.js"},{"name":"../../geom/flat/transform.js","loc":{"line":20,"column":28},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/geom/flat/transform.js"},{"name":"../../obj.js","loc":{"line":21,"column":24},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/obj.js"},{"name":"./BuilderType.js","loc":{"line":22,"column":24},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/render/canvas/BuilderType.js"},{"name":"../../transform.js","loc":{"line":23,"column":71},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/transform.js"},{"name":"./Executor.js","loc":{"line":24,"column":21},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/render/canvas/Executor.js"},{"name":"../../Disposable.js","loc":{"line":25,"column":23},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/render/canvas/ExecutorGroup.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/Disposable.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getCircleArray=d,exports.replayDeclutter=x,exports.default=void 0;var e=require(\"../../array.js\"),t=require(\"../../dom.js\"),r=require(\"../../extent.js\"),o=require(\"../../geom/flat/transform.js\"),n=require(\"../../obj.js\"),i=c(require(\"./BuilderType.js\")),a=require(\"../../transform.js\"),s=c(require(\"./Executor.js\")),u=c(require(\"../../Disposable.js\"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),l=[i.default.POLYGON,i.default.CIRCLE,i.default.LINE_STRING,i.default.IMAGE,i.default.TEXT,i.default.DEFAULT],h=function(u){function c(e,t,r,o,n,i){var s=u.call(this)||this;return s.maxExtent_=e,s.overlaps_=o,s.pixelRatio_=r,s.resolution_=t,s.renderBuffer_=i,s.executorsByZIndex_={},s.hitDetectionContext_=null,s.hitDetectionTransform_=(0,a.create)(),s.createExecutors_(n),s}return f(c,u),c.prototype.clip=function(e,t){var r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()},c.prototype.createExecutors_=function(e){for(var t in e){var r=this.executorsByZIndex_[t];void 0===r&&(r={},this.executorsByZIndex_[t]=r);var o=e[t];for(var n in o){var i=o[n];r[n]=new s.default(this.resolution_,this.pixelRatio_,this.overlaps_,i)}}},c.prototype.disposeInternal=function(){for(var e in this.executorsByZIndex_){var t=this.executorsByZIndex_[e];for(var r in t)t[r].disposeInternal()}if(this.hitDetectionContext_){var o=this.hitDetectionContext_.canvas;o.width=0,o.height=0}u.prototype.disposeInternal.call(this)},c.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[t],o=0,n=e.length;o<n;++o)if(e[o]in r)return!0;return!1},c.prototype.forEachFeatureAtCoordinate=function(o,n,s,u,c,f){var h=2*(u=Math.round(u))+1,p=(0,a.compose)(this.hitDetectionTransform_,u+.5,u+.5,1/n,-1/n,-s,-o[0],-o[1]);this.hitDetectionContext_||(this.hitDetectionContext_=(0,t.createCanvasContext2D)(h,h));var v,x=this.hitDetectionContext_;x.canvas.width!==h||x.canvas.height!==h?(x.canvas.width=h,x.canvas.height=h):x.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(v=(0,r.createEmpty)(),(0,r.extendCoordinate)(v,o),(0,r.buffer)(v,n*(this.renderBuffer_+u),v));var _,y=d(u);function m(e){for(var t=x.getImageData(0,0,h,h).data,r=0;r<h;r++)for(var o=0;o<h;o++)if(y[r][o]&&t[4*(o*h+r)+3]>0){var n=void 0;return(!f||_!=i.default.IMAGE&&_!=i.default.TEXT||-1!==f.indexOf(e))&&(n=c(e)),n||void x.clearRect(0,0,h,h)}}var I,g,E,C,b,j=Object.keys(this.executorsByZIndex_).map(Number);for(j.sort(e.numberSafeCompareFunction),I=j.length-1;I>=0;--I){var B=j[I].toString();for(E=this.executorsByZIndex_[B],g=l.length-1;g>=0;--g)if(void 0!==(C=E[_=l[g]])&&(b=C.executeHitDetection(x,p,s,m,v)))return b}},c.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var r=t[0],n=t[1],i=t[2],a=t[3],s=[r,n,r,a,i,a,i,n];return(0,o.transform2D)(s,0,8,2,e,s),s},c.prototype.isEmpty=function(){return(0,n.isEmpty)(this.executorsByZIndex_)},c.prototype.execute=function(t,r,o,n,a,s){var u=Object.keys(this.executorsByZIndex_).map(Number);u.sort(e.numberSafeCompareFunction),this.maxExtent_&&(t.save(),this.clip(t,r));var c,f,h,p,v,d,x=a||l;for(c=0,f=u.length;c<f;++c){var _=u[c].toString();for(v=this.executorsByZIndex_[_],h=0,p=x.length;h<p;++h){var y=x[h];if(void 0!==(d=v[y]))if(!s||y!=i.default.IMAGE&&y!=i.default.TEXT)d.execute(t,r,o,n);else{var m=s[_];m?m.push(d,r.slice(0)):s[_]=[d,r.slice(0)]}}}this.maxExtent_&&t.restore()},c}(u.default),p={0:[[!0]]};function v(e,t,r){var o,n=Math.floor(e.length/2);if(t>=n)for(o=n;o<t;o++)e[o][r]=!0;else if(t<n)for(o=t+1;o<n;o++)e[o][r]=!0}function d(e){if(void 0!==p[e])return p[e];for(var t=2*e+1,r=new Array(t),o=0;o<t;o++)r[o]=new Array(t);for(var n=e,i=0,a=0;n>=i;)v(r,e+n,e+i),v(r,e+i,e+n),v(r,e-i,e+n),v(r,e-n,e+i),v(r,e-n,e-i),v(r,e-i,e-n),v(r,e+i,e-n),v(r,e+n,e-i),2*((a+=1+2*++i)-n)+1>0&&(a+=1-2*(n-=1));return p[e]=r,r}function x(t,r,o,n,i,a){for(var s=Object.keys(t).map(Number).sort(e.numberSafeCompareFunction),u=0,c=s.length;u<c;++u)for(var f=t[s[u].toString()],l=void 0,h=0,p=f.length;h<p;){var v=f[h++];v!==l&&(l=v,a.push({items:v.declutterItems,opacity:n}));var d=f[h++];v.execute(r,d,o,i)}}var _=h;exports.default=_;"},"sourceMaps":null,"error":null,"hash":"c5a80d7084e978c04f76808c852606de","cacheData":{"env":{}}}