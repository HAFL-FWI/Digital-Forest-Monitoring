{"id":"yR82","dependencies":[{"name":"/Users/hk/Sites/digital-forest-monitoring/package.json","includedInParent":true,"mtime":1574333047455},{"name":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/package.json","includedInParent":true,"mtime":1573122283680},{"name":"./ImageBase.js","loc":{"line":17,"column":22},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/Image.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/ImageBase.js"},{"name":"./ImageState.js","loc":{"line":18,"column":23},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/Image.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/ImageState.js"},{"name":"./events.js","loc":{"line":19,"column":42},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/Image.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/events.js"},{"name":"./events/EventType.js","loc":{"line":20,"column":22},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/Image.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/events/EventType.js"},{"name":"./extent.js","loc":{"line":21,"column":26},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/Image.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/extent.js"},{"name":"./has.js","loc":{"line":22,"column":29},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/Image.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/has.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.listenImage=h,exports.default=void 0;var t=a(require(\"./ImageBase.js\")),e=a(require(\"./ImageState.js\")),n=require(\"./events.js\"),i=a(require(\"./events/EventType.js\")),r=require(\"./extent.js\"),s=require(\"./has.js\");function a(t){return t&&t.__esModule?t:{default:t}}var o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),u=function(t){function n(n,i,r,s,a,o){var u=t.call(this,n,i,r,e.default.IDLE)||this;return u.src_=s,u.image_=new Image,null!==a&&(u.image_.crossOrigin=a),u.unlisten_=null,u.state=e.default.IDLE,u.imageLoadFunction_=o,u}return o(n,t),n.prototype.getImage=function(){return this.image_},n.prototype.handleImageError_=function(){this.state=e.default.ERROR,this.unlistenImage_(),this.changed()},n.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,r.getHeight)(this.extent)/this.image_.height),this.state=e.default.LOADED,this.unlistenImage_(),this.changed()},n.prototype.load=function(){this.state!=e.default.IDLE&&this.state!=e.default.ERROR||(this.state=e.default.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=h(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},n.prototype.setImage=function(t){this.image_=t},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},n}(t.default);function h(t,e,r){var a=t;if(a.src&&s.IMAGE_DECODE){var o=a.decode(),u=!0;return o.then(function(){u&&e()}).catch(function(t){u&&(\"EncodingError\"===t.name&&\"Invalid image type.\"===t.message?e():r())}),function(){u=!1}}var h=[(0,n.listenOnce)(a,i.default.LOAD,e),(0,n.listenOnce)(a,i.default.ERROR,r)];return function(){h.forEach(n.unlistenByKey)}}var l=u;exports.default=l;"},"sourceMaps":null,"error":null,"hash":"33f955fe964c864420aaf180202a3004","cacheData":{"env":{}}}