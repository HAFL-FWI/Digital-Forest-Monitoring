{"id":"eWqz","dependencies":[{"name":"/Users/hk/Sites/digital-forest-monitoring/package.json","includedInParent":true,"mtime":1574333047455},{"name":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/package.json","includedInParent":true,"mtime":1573122283680},{"name":"./common.js","loc":{"line":17,"column":36},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageWMS.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/common.js"},{"name":"../Image.js","loc":{"line":18,"column":25},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageWMS.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/Image.js"},{"name":"../asserts.js","loc":{"line":19,"column":23},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageWMS.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/asserts.js"},{"name":"../events/EventType.js","loc":{"line":20,"column":22},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageWMS.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/events/EventType.js"},{"name":"../extent.js","loc":{"line":21,"column":82},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageWMS.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/extent.js"},{"name":"../obj.js","loc":{"line":22,"column":23},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageWMS.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/obj.js"},{"name":"../proj.js","loc":{"line":23,"column":48},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageWMS.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/proj.js"},{"name":"../reproj.js","loc":{"line":24,"column":42},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageWMS.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/reproj.js"},{"name":"./Image.js","loc":{"line":25,"column":54},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageWMS.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/Image.js"},{"name":"./WMSServerType.js","loc":{"line":26,"column":26},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageWMS.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/WMSServerType.js"},{"name":"../string.js","loc":{"line":27,"column":32},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageWMS.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/string.js"},{"name":"../uri.js","loc":{"line":28,"column":29},"parent":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/source/ImageWMS.js","resolved":"/Users/hk/Sites/digital-forest-monitoring/node_modules/ol/uri.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=require(\"./common.js\"),t=d(require(\"../Image.js\")),i=require(\"../asserts.js\"),r=d(require(\"../events/EventType.js\")),n=require(\"../extent.js\"),o=require(\"../obj.js\"),a=require(\"../proj.js\"),s=require(\"../reproj.js\"),u=c(require(\"./Image.js\")),h=d(require(\"./WMSServerType.js\")),p=require(\"../string.js\"),_=require(\"../uri.js\");function g(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function c(e){if(e&&e.__esModule)return e;var t=g();if(t&&t.has(e))return t.get(e);var i={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=r?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(i,n,o):i[n]=e[n]}}return i.default=e,t&&t.set(e,i),i}function d(e){return e&&e.__esModule?e:{default:e}}var l=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),f=[101,101],v=function(g){function c(e){var t=this,i=e||{};return(t=g.call(this,{attributions:i.attributions,projection:i.projection,resolutions:i.resolutions})||this).crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,t.url_=i.url,t.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:u.defaultImageLoadFunction,t.params_=i.params||{},t.v13_=!0,t.updateV13_(),t.serverType_=i.serverType,t.hidpi_=void 0===i.hidpi||i.hidpi,t.image_=null,t.imageSize_=[0,0],t.renderedRevision_=0,t.ratio_=void 0!==i.ratio?i.ratio:1.5,t}return l(c,g),c.prototype.getFeatureInfoUrl=function(t,i,r,u){if(void 0!==this.url_){var h=(0,a.get)(r),p=this.getProjection();p&&p!==h&&(i=(0,s.calculateSourceResolution)(p,h,t,i),t=(0,a.transform)(t,h,p));var _=(0,n.getForViewAndSize)(t,i,0,f),g={SERVICE:\"WMS\",VERSION:e.DEFAULT_WMS_VERSION,REQUEST:\"GetFeatureInfo\",FORMAT:\"image/png\",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,o.assign)(g,this.params_,u);var c=Math.floor((t[0]-_[0])/i),d=Math.floor((_[3]-t[1])/i);return g[this.v13_?\"I\":\"X\"]=c,g[this.v13_?\"J\":\"Y\"]=d,this.getRequestUrl_(_,f,1,p||h,g)}},c.prototype.getLegendUrl=function(t,i){if(void 0!==this.url_){var r={SERVICE:\"WMS\",VERSION:e.DEFAULT_WMS_VERSION,REQUEST:\"GetLegendGraphic\",FORMAT:\"image/png\"};if(void 0===i||void 0===i.LAYER){var n=this.params_.LAYERS;if(!(!Array.isArray(n)||1===n.length))return;r.LAYER=n}if(void 0!==t){var a=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=t*a*39.37*(25.4/.28)}return(0,o.assign)(r,i),(0,_.appendParams)(this.url_,r)}},c.prototype.getParams=function(){return this.params_},c.prototype.getImageInternal=function(i,a,s,u){if(void 0===this.url_)return null;a=this.findNearestResolution(a),1==s||this.hidpi_&&void 0!==this.serverType_||(s=1);var h=a/s,p=(0,n.getCenter)(i),_=Math.ceil((0,n.getWidth)(i)/h),g=Math.ceil((0,n.getHeight)(i)/h),c=(0,n.getForViewAndSize)(p,h,0,[_,g]),d=Math.ceil(this.ratio_*(0,n.getWidth)(i)/h),l=Math.ceil(this.ratio_*(0,n.getHeight)(i)/h),f=(0,n.getForViewAndSize)(p,h,0,[d,l]),v=this.image_;if(v&&this.renderedRevision_==this.getRevision()&&v.getResolution()==a&&v.getPixelRatio()==s&&(0,n.containsExtent)(v.getExtent(),c))return v;var R={SERVICE:\"WMS\",VERSION:e.DEFAULT_WMS_VERSION,REQUEST:\"GetMap\",FORMAT:\"image/png\",TRANSPARENT:!0};(0,o.assign)(R,this.params_),this.imageSize_[0]=Math.round((0,n.getWidth)(f)/h),this.imageSize_[1]=Math.round((0,n.getHeight)(f)/h);var S=this.getRequestUrl_(f,this.imageSize_,s,u,R);return this.image_=new t.default(f,a,s,S,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(r.default.CHANGE,this.handleImageChange.bind(this)),this.image_},c.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},c.prototype.getRequestUrl_=function(e,t,r,n,o){if((0,i.assert)(void 0!==this.url_,9),o[this.v13_?\"CRS\":\"SRS\"]=n.getCode(),\"STYLES\"in this.params_||(o.STYLES=\"\"),1!=r)switch(this.serverType_){case h.default.GEOSERVER:var a=90*r+.5|0;\"FORMAT_OPTIONS\"in o?o.FORMAT_OPTIONS+=\";dpi:\"+a:o.FORMAT_OPTIONS=\"dpi:\"+a;break;case h.default.MAPSERVER:o.MAP_RESOLUTION=90*r;break;case h.default.CARMENTA_SERVER:case h.default.QGIS:o.DPI=90*r;break;default:(0,i.assert)(!1,8)}o.WIDTH=t[0],o.HEIGHT=t[1];var s,u=n.getAxisOrientation();return s=this.v13_&&\"ne\"==u.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,o.BBOX=s.join(\",\"),(0,_.appendParams)(this.url_,o)},c.prototype.getUrl=function(){return this.url_},c.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},c.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},c.prototype.updateParams=function(e){(0,o.assign)(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},c.prototype.updateV13_=function(){var t=this.params_.VERSION||e.DEFAULT_WMS_VERSION;this.v13_=(0,p.compareVersions)(t,\"1.3\")>=0},c}(u.default),R=v;exports.default=R;"},"sourceMaps":null,"error":null,"hash":"a54095f17df8964b711092632549debd","cacheData":{"env":{}}}